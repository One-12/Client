<!--suppress JSRemoveUnnecessaryParentheses -->
<main id="home-container">
  <!-- Header -->
  <section class="time-line-header">
    <one12-header></one12-header>
  </section>

  <!-- Left Sidebar -->
  <!-- Navigation Menu -->
  <section class="left-sidebar-container flex-column px-30">
    <!-- Logo -->
    <section class="text-align-center">
      <h1>One 12</h1>
    </section>

    <!-- Menu Items -->
    <one12-menu-items-card class="mb-16" [navItems]="navItems" [selectedNavItem]="selectedNavItem">
    </one12-menu-items-card>

    <!-- Help & Support Card -->
    <one12-support-center-card class="mb-16"></one12-support-center-card>

    <!-- Announcements Card -->
    <one12-news-and-announcements-card class="mb-16"> </one12-news-and-announcements-card>
  </section>

  <!-- Popular Posts -->
  <section class="popular-posts-container overflow-hidden">
    <one12-section-header
      title="Popular"
      subtitle="Now"
      [showScrollButton]="!(isFetchingPopularPosts$ | async)"
      (scrollLeftButtonClicked)="popularPost.scrollLeft()"
      (scrollRightButtonClicked)="popularPost.scrollRight()"
    ></one12-section-header>
    <one12-popular-posts-stream
      [isFetchingPopularPosts]="isFetchingPopularPosts$ | async"
      [popularPosts]="popularPosts$ | async"
      #popularPost
    ></one12-popular-posts-stream>
  </section>

  <!-- Tags -->
  <section class="tags-container overflow-hidden">
    <!-- Tags Header -->
    <one12-section-header
      title="What People Are"
      subtitle="Talking"
      [showScrollButton]="!(isFetchingTrendingTags$ | async)"
      (scrollLeftButtonClicked)="trendingTags.scrollLeft()"
      (scrollRightButtonClicked)="trendingTags.scrollRight()"
    >
    </one12-section-header>

    <!-- Tags Stream -->
    <one12-tag-stream
      [tags]="trendingTags$ | async"
      [isFetchingTrendingTags]="isFetchingTrendingTags$ | async"
      (tagSelected)="onTagSelected($event)"
      #trendingTags
    >
    </one12-tag-stream>
  </section>

  <!-- Posts List -->
  <section class="posts-container">
    <one12-section-header title="Feeds"></one12-section-header>

    <!-- Load Indicator -->
    <section class="posts" *ngIf="isFetchingPosts$ | async">
      <article class="mb-16" *ngFor="let post of postsShadowedItems">
        <section class="post-loader-wrapper">
          <section></section>
          <section></section>
          <section></section>
          <section></section>
        </section>
      </article>
    </section>

    <!-- Feed Stream -->
    <section
      infiniteScroll
      [infiniteScrollDistance]="2"
      [infiniteScrollThrottle]="50"
      (scrolled)="onFeedsScrolled($event)"
      class="posts"
      *ngIf="!(isFetchingPosts$ | async)"
    >
      <article class="post mb-16" *ngFor="let post of posts$ | async">
        <one12-feed-card [post]="post" (postSelected)="onPostSelected($event)"> </one12-feed-card>
      </article>
    </section>
  </section>
</main>
