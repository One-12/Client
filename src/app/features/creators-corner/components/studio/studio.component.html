<!-- Header -->
<one12-header></one12-header>

<!-- Studio Panel -->
<section id="studio-component-container" class="full-height container">
  <section class="tool-bar-container">
    <!-- Post Information Tool -->
    <div matRipple class="m-5 p-20 flex-row align-items-justify-content-center pointer tool-bar-icon-container" [class.selected]="isDetailsMenuSelected" (click)="onMenuItemSelected('post-details')">
      <div class="info-text flex-column align-items-justify-content-center">
        <i-feather name="info" class="info-text-icon"></i-feather>
        <span class="tool-bar-text">Post Details</span>
      </div>
    </div>

    <!-- Add Text Tool -->
    <div matRipple class="m-5 p-20 flex-row align-items-justify-content-center pointer tool-bar-icon-container" [class.selected]="isAddTextMenuSelected" (click)="onMenuItemSelected('add-text')">
      <div class="add-text flex-column align-items-justify-content-center">
        <i-feather name="type" class="add-text-icon"></i-feather>
        <span class="tool-bar-text">Add Text</span>
      </div>
    </div>

    <!-- Add Shapes Tool -->
    <div matRipple class="m-5 p-20 flex-row align-items-justify-content-center pointer tool-bar-icon-container" [class.selected]="isAddShapeMenuSelected" (click)="onMenuItemSelected('add-shapes')">
      <div class="shapes-text flex-column align-items-justify-content-center">
        <i-feather name="box" class="shapes-text-icon"></i-feather>
        <span class="tool-bar-text">Add Shapes</span>
      </div>
    </div>
  </section>

  <section class="tool-bar-options-container">
    <div *ngIf="isDetailsMenuSelected" class="p-20">

      <!-- Header -->
      <one12-section-header title="Update Post" subtitle="Details"></one12-section-header>

      <!-- Post Details -->
      <div class="post-details-container mt-20">

        <!-- Post's Title -->
        <mat-form-field class="full-width" appearance="standard" color="primary" floatLabel="always">
          <mat-label>Title: </mat-label>
          <input matInput maxlength="256" type="text" placeholder="Enter Post's Title" [(ngModel)]="postTitle" autocomplete="off">
        </mat-form-field>

        <!-- Post's Description -->
        <mat-form-field class="full-width" appearance="standard" color="primary" floatLabel="always">
          <mat-label>Description: </mat-label>
          <input matInput maxlength="256" type="text" placeholder="Enter Post's Description" [(ngModel)]="postDescription" autocomplete="off">
        </mat-form-field>

        <!-- Post's Tags -->
        <mat-form-field class="full-width" appearance="standard" color="primary" floatLabel="always">
          <mat-label>Tags: </mat-label>
          <input matInput maxlength="256" type="text" placeholder="+Tag" [value]="tag" [(ngModel)]="tag" autocomplete="off" (keydown.enter)="onEnterKeyPressedOnTags()">
        </mat-form-field>

        <!-- Tags -->
        <section class="flex align-items-center mt-m20" *ngIf="tags.length">
          <one12-tags class="mr-16" [tags]="tags"></one12-tags>
        </section>

        <!-- Post's Source -->
        <mat-form-field class="full-width" appearance="standard" color="primary" floatLabel="always">
          <mat-label>Source: </mat-label>
          <input matInput maxlength="256" type="text" placeholder="Enter Post's Source" [(ngModel)]="postSource" autocomplete="off">
        </mat-form-field>

        <mat-checkbox [(ngModel)]="isPostAnonymous" color="primary">Post Anonymously</mat-checkbox>

        <section class="flex align-items-justify-content-center mt-20">
          <button mat-flat-button color="primary" class="btn primary-btn" (click)="onPostDetailsSaveButtonClicked()">Save</button>
          <button mat-flat-button color="accent" class="btn ml-15" (click)="onPostDetailsSaveButtonClicked()">Close</button>
        </section>
      </div>

    </div>

    <div *ngIf="isAddTextMenuSelected" class="p-20">
      <!-- Header -->
      <one12-section-header title="Add" subtitle="Text"></one12-section-header>
      <div class="add-text-container mt-20">

        <!-- Text -->
        <mat-form-field class="full-width" appearance="standard" color="primary" floatLabel="always">
          <mat-label>Text: </mat-label>
          <input matInput maxlength="256" type="text" placeholder="Enter Text" [(ngModel)]="text" autocomplete="off">
        </mat-form-field>

        <!-- Font Size -->
        <mat-form-field class="full-width" appearance="none" color="primary" floatLabel="always">
          <mat-label>Font Size: </mat-label>
          <mat-slider
            class="full-width ml-m8"
            max="240"
            min="0"
            thumbLabel=true
            [(ngModel)]="fontSize">
          </mat-slider>
          <textarea matInput hidden></textarea>
        </mat-form-field>

        <!-- Font Color -->
        <mat-form-field class="full-width mt-m20" appearance="none" color="primary" floatLabel="always">
          <mat-label>Font Color: </mat-label>
          <input matInput [(colorPicker)]="color" [style.background]="color" cpPosition="bottom" class="pointer" />
        </mat-form-field>

        <!-- Preview -->
        <section *ngIf="text">
          <section class="f-12 primary-color">Preview:</section>
          <section [style.color]="color" [style.font-size]="fontSize + 'px'" class="mt-10 p-16">
            {{ text }}
          </section>
        </section>

        <!-- Action Buttons -->
        <section class="flex align-items-justify-content-center mt-20">
          <button mat-flat-button color="primary" class="btn primary-btn" (click)="onAddTextButtonClicked()">Save</button>
          <button mat-flat-button color="accent" class="btn ml-15" (click)="onPostDetailsSaveButtonClicked()">Close</button>
        </section>
      </div>
    </div>

    <div *ngIf="isAddShapeMenuSelected" class="p-20">
      <!-- Header -->
      <one12-section-header title="Add" subtitle="Shapes"></one12-section-header>
    </div>
  </section>

  <section class="art-board-container" #container>
    <div class="full-height flex-column align-items-justify-content-center" (dragover)="onPostContentDragOver($event)">
      <section id="post-messages"></section>
      <img [src]="imageUrl | safe: 'url'" alt="" [style.max-width]="container.clientWidth - 100 + 'px'"
        [style.max-height]="container.clientHeight - 200 + 'px'" />
    </div>
  </section>
</section>
